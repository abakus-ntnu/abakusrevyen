---
import PageLayout from "../PageLayout.astro";

import Card from "@/components/Card/Card.astro";
import FoldableFade from "@/components/FoldableFade/FoldableFade.astro";
import LinkButton from "../../components/LinkButton/LinkButton.astro";
import SubgroupGrid from "@/components/Subgroups/SubgroupGrid.astro";

import { SOCIALS } from "@/lib/constants";
---

<PageLayout {...Astro.props}>
  <div class="container mx-auto mb-12 space-y-12 p-3">
    <slot />
    <slot name="prev-revy">
      <h2 class="text-center text-xl font-medium">
        Revyen <span class="text-primary">2023</span>
      </h2>
      <iframe
        width="auto"
        height="auto"
        class="mx-auto aspect-video w-full max-w-screen-md rounded-lg"
        loading="lazy"
        src="https://www.youtube.com/embed/GzcgzNqLaRc?si=x0vzKFxEYSLJrEId"
        title="YouTube video player"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin"
        allowfullscreen></iframe>
      <LinkButton class="m-auto !mt-4 block w-fit" href="/revyer">
        Andre tidligere revyer
      </LinkButton>
    </slot>
    <slot name="contact">
      <h2 class="text-center text-xl font-medium">Kontakt oss</h2>
      <div
        class="mx-auto grid max-w-screen-md grid-cols-1 gap-6 px-6 md:grid-cols-3"
      >
        {
          SOCIALS.map(({ name, href, Icon, profile }) => (
            <a href={href} aria-label={name}>
              <Card class="transition-colors hover:bg-gray-100 hover:dark:bg-gray-800">
                <div class="flex flex-col items-center gap-3">
                  {<Icon />}
                  {profile}
                </div>
              </Card>
            </a>
          ))
        }
      </div>
    </slot>
    <slot name="recruitment">
      <h2 class="text-center text-xl font-medium">
        Bli med i <span class="text-primary">Revyen!</span>
      </h2>

      <FoldableFade>
        <SubgroupGrid />
      </FoldableFade>
    </slot>
  </div>
</PageLayout>
