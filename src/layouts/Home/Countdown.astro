---
import HomePageLayout from "./HomePageLayout.astro";
import LinkButton from "@/components/LinkButton/LinkButton.astro";
import CountdownComp from "@/components/Countdown/Countdown.tsx";
import ShowLogo from "@/components/Branding/ShowLogo.astro";
import ShowDetailsCard from "@/components/Show/ShowDetailsCard.astro";
import { SHOWS } from "@/lib/shows";
import { nextShow } from "@/lib/periods";

const show = nextShow() ?? SHOWS.toReversed()[0];
---

<HomePageLayout>
  <div class="flex w-full flex-col items-center justify-center gap-6">
    <CountdownComp date={show.when} client:load />
    <ShowLogo />
    <ShowDetailsCard show={show} />
  </div>
  <div slot="prev-revy" class="space-y-12">
    <h2 class="text-center text-xl font-medium">
      Revy <span class="text-primary">Trailer</span>
    </h2>
    <iframe
      width="auto"
      height="auto"
      class="mx-auto aspect-video w-full max-w-screen-md rounded-lg"
      loading="lazy"
      src="https://www.youtube.com/embed/LJSPFp4p87Y?si=wmC-GGHTa2EHYRAg"
      title="YouTube video player"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin"
      allowfullscreen></iframe>
    <LinkButton class="m-auto !mt-4 block w-fit" href="/revyer">
      Tidligere revyer
    </LinkButton>
  </div>
  <div slot="recruitment" class="!mt-0"></div>
</HomePageLayout>
