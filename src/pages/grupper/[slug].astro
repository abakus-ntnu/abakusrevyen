---
import ArticleLayout from "@/layouts/ArticleLayout.astro";

import { getEntry, render, getCollection } from "astro:content";
import { Image } from "astro:assets";
import type { ValidContentEntrySlug } from "astro:content";

export async function getStaticPaths() {
  const entries = await getCollection("grupper");
  const list = entries.map((entry) => ({ params: { slug: entry.slug } }));
  return list;
}

const { slug }: { slug: ValidContentEntrySlug<"grupper"> } = Astro.params;
const entry = await getEntry("grupper", slug);
const { name, logo } = entry.data;

const { Content } = await render(entry);
---

<ArticleLayout title={name}>
  <Image src={logo} alt={`${name} logo`} class="rounded-lg w-56" />
  <Content />
</ArticleLayout>
